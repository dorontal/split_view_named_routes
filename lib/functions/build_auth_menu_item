// import 'package:flutter/material.dart';

Widget _buildAuthDrawerPage(BuildContext context, WidgetRef ref) {
    final userStreamNotifier = ref.watch(userStreamProvider);
    final authService = ref.watch(amplifyAuthServiceProvider);
    return Material(
      color: Colors.transparent,
      child: userStreamNotifier.when(
          data: (user) => user == null
              ? ListTile(
                  leading: const Icon(Icons.login),
                  title: const Text('Log In (or Sign Up)'),
                  onTap: () {
                    if (MediaQuery.of(context).size.width < splitViewMaxWidth) {
                      // pop drawer only when open (i.e. when screen is small)
                      Navigator.of(context).pop();
                    }
                    showDialog(
                        context: context,
                        barrierDismissible: false,
                        builder: (_) => Authenticator(
                              authMode: AuthMode.logIn,
                              banner: const TracktunesLogo(showText: false),
                              message: logInMessage,
                            ));
                  })
              : ListTile(
                  leading: const Icon(Icons.logout),
                  title: const Text('Sign Out'),
                  onTap: () async {
                    developer.log('signing out right now ...');
                    await authService.signOut();
                  }),
          loading: () => const Center(
                child: CircularProgressIndicator(),
              ),
          error: (_, __) => const Center(
                child: Text('Something went wrong: cannot load data'),
              )),
    );
  }
